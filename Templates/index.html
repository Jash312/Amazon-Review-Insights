<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ratings Plot</title>
    <!-- Include Plotly.js -->
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>
    <h1>Ratings Plot</h1>
    
    <!-- Form to submit parameters for generating the plot -->
    <form action="/generate_plot" method="post">
        <label for="start_date">Start Date:</label>
        <input type="date" id="start_date" name="start_date" required><br><br>

        <label for="end_date">End Date:</label>
        <input type="date" id="end_date" name="end_date" required><br><br>

        <label for="num_reviews">Number of Reviews:</label>
        <input type="number" id="num_reviews" name="num_reviews" min="1" value="1000" required><br><br>

        <label for="window_size">Moving Average Window Size:</label>
        <input type="number" id="window_size" name="window_size" min="1" value="14" required><br><br>

        <button type="submit">Generate Plot</button>
    </form>
    
    <!-- Display the generated plot -->
    {% if plot_html %}
    <iframe src="{{ plot_html }}" width="100%" height="600px"></iframe>
    {% endif %}
</body>
</html>
